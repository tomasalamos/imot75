{% extends "layout.html" %}

{% block content %}
  <div class="file-box yellow">
    <h2>Data Processing Results</h2>
    <p><strong>Selected variables:</strong></p>
    <ul>
        {% for var in selected_vars %}
            <li>{{ var }}</li>
        {% endfor %}
    </ul>

    <p><strong>Allowed negative variables:</strong></p>
    <ul>
        {% for var in negative_vars %}
            <li>{{ var }}</li>
        {% endfor %}
    </ul>

    <p><strong>Date range analyzed:</strong> {{ start }} - {{ end }}</p>
  </div>

  <div class="file-box yellow">
    <h3>Generated files</h3>
    <div class="file-grid">

      <div class="file-item">
        <a href="{{ url_for('download_file', filename='filtered_data.csv') }}" class="button button-gray">Filtered data</a>
        <p>Records with invalid columns and negative values not allowed removed.</p>
      </div>

      <div class="file-item">
        <a href="{{ url_for('download_file', filename='complete_data.csv') }}" class="button button-blue">Complete data</a>
        <p>Data with completed dates and temporal integrity ensured.</p>
      </div>

      <div class="file-item">
        <a href="{{ url_for('download_file', filename='missing_dates.txt') }}" class="button button-purple">Missing dates</a>
        <p>Dates identified as missing in the original set.</p>
      </div>

      <div class="file-item">
        <a href="{{ url_for('download_file', filename='corrected_data.csv') }}" class="button button-green">Corrected data</a>
        <p>Clean and final version with imputed values and no errors.</p>
      </div>

      <div class="file-item">
        <a href="{{ url_for('download_file', filename='detected_failures.csv') }}" class="button button-red">Detected failures</a>
        <p>Errors or failures found during automatic analysis.</p>
      </div>

    </div>
  </div>

  <a href="/" class="button button-yellow">Back to the beginning</a>
{% endblock %}

